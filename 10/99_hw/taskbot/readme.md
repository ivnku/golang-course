Тема: менеджер задач в телеграм боте

Боты в месседжерах сейчас используются повсеместно и конечно же в рамках курса стоило бы написать одного :)

В этой задаче мы реализуем простого телеграм-бота по управлению задачами. Немого парсинга, немного моделирования данных, научитесь размещать ботов в телеграме.

Здание ИМХО простое, сильно голову ломать не придётся! Объем кода 300-400 строк.
Управление происходит через текстовый интерфейс:

* /tasks
* /new XXX YYY ZZZ - создаёт новую задачу
* /assign_$ID - делаеть пользователя исполнителем задачи
* /unassign_$ID - снимает задачу с текущего исполнителя
* /resolve_$ID - выполняет задачу, удаляет её из списка
* /my - показывает задачи, которые назначены на меня
* /owner - показывает задачи которые были созданы мной

Подробности форматирования смотрите в тестах.

В этом задании вам надо будет разделить ваше приложение на слои, как было рассказано в 4-й лекции:
* delivery - в этом слое вам надо будет взаимодействовать с телеграмом
* service - в этом слое у вас будет бизнес логика. про то что вы в телеге тут знать нельзя. Если вы к примеру решите переехать в Майтим - в этом слое ничего не поменяется
* repository (repo) - тут у вас будут храниться данные, пока - в слайсе. Когда в след части задания вы будете вкручивать сюда базу - то в других слоях ничего поменяться не должно

Мы используем чуть-чуть подправленную библиотеку для работы с телеграм-ботом, чтобы можно было написать тесты, притворившись сервером телеграма. Она переопределена через replace в go.mod. Тесты запускаются с ней нормально через go test -v. Если вдруг вы получаете ошибку `./taskbot_test.go:172:23: cannot assign to tgbotapi.APIEndpoint (declared const)` - значит что-то у вас с переопределением сломалось

Посмотреть в реальной жизни ваш прошект можно при помощи следующих инструментов:
* ngrok (https://ngrok.com/) - пробрасывает порт к вам (после авторизации там будет команда для созранения токена в конфиге). Хорошо чтобы показать что-то на демо, для прода я бы не рискнул это использовать. Попроще.
* heroku (https://devcenter.heroku.com/articles/getting-started-with-go) - они предоставляют бесплатный хостинг для го с поддоменом и сертификатом, который можно подключить к телеграму. бесплатная версия должна спать 8 часов в сутки, но для тестирования хватает. Посложнее. Но будет работать точно.

Для создания бота в телеграме стучитесь @BotFather

Если вы выберете heroku - туда надо аккруатно пушить из репы гитлаба, команда:
```
находясь в корне репы
git subtree push --prefix 10/99_hw/taskbot heroku master
```

Для хранения данных сейчас нужно использовать слайс и не пока заморачиваться с базой.

В помощь:
* телеграм бот из лекции в папке 4/bot

Бота надо стартовать на порту 8081 - именно туда шлются уведомления из моего эмулятора телеграма

у вас будет несколько слоев:
* `delivery` - взаимодействиt с телеграмом - другие слои не должны знать что они в телеге. в это слое вы получаете сообщения от телеги, вызываете следующий слой, получаете результат и возвращаете его в телегу. если вы захотите подменить телегу на ICQ-бота - поменяется только этот слой
* `router` - у нас несколько разных команд - как в домашке с игрой - вам надо распарсить команду и вызвать соответствующий метод. в хттп с этим было попроще, а тут придется делать это руками
* `service` - тут будет сосредоточена ваша бизнес-логика
* `repository` - в этом слое вы храните данные. в следующей части домашке сюда надо будет вкрутить БД и это должно пройти абсолютно безболезненно для остального кода

В результате вам надо раздробить решение на пакеты в соотвтетсвии с https://github.com/golang-standards/project-layout и тем что я рассказывал на лекции с crudapp
